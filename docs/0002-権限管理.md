†RFC0002 - 限界開発鯖における権限の管理†

# 1 Summary

この RFC では、限界開発鯖に所属しているメンバーに対し、現在の特色ある文化を損なわない形での適切な権限を付与する方法を提案します。

# 2 Motivation

現在 (2021/04/17)、限界開発鯖のメンバーほぼ全員に対して付与されている「にゃーん」には「管理者」権限が付与されています。これは限界開発鯖のメンバーのほぼ全員が、様々な破壊的変更を行使できる「管理者」権限を有していることを意味します。

現時点でこれに起因する致命的なトラブルは発生していませんが、「限界鯖民はみんなが核弾頭を持っている」と評されるほどに、大きなリスクを抱えているのは明らかです (宗教戦争などによる不適切な権限の行使に限らず、誤操作で BAN や Kick を実行してしまう可能性が考えられます) 。

また、BAN や Kick などが実際に実行されたことがほぼないにも関わらず (間違えて招待した自分の Bot を Kick するくらい) 、このようなリスクを抱えるのは不必要であり、排除すべきです。

以上の問題を解決するために、私は以下のセクションで示す、**現在の特色ある文化を損なわない形での適切な権限を付与する方法**を提案します。

# 3 Guild-level Explanation

メンバーは、以下のロールによって必要な権限が付与されます。

| ロール名     | 付与する権限                           | 付与対象                                           |
| ------------ | -------------------------------------- | -------------------------------------------------- |
| 全知全能の神 | 管理者権限、外部アカウント管理、代表権 | いっそう、こるく、ko                       |
| 限界治安部隊 | 管理者権限                             | 全知全能の神が独断と偏見で判断したアクティブユーザ |
| にゃーん     | セクション 4.2 で列挙される権限        | 原則鯖民全員                                       |

「参政権」や「しゃべることしかできない」などを含めた、他のロールに対する変更はありません。

# 4 Reference-level Explanation

## 4.1 この RFC によって設定されるロール

### 4.1.1「全知全能の神」

#### 4.1.1.1 付与対象

このロールは、以下の 3 人に対して付与されます。

- いっそう
- こるく
- ko

#### 4.1.1.2 付与する権限

このロールに対しては、「管理者」権限を付与します。

これに加えて、このロールに対しては以下の Discord 外での権限が付与されます:

- 代表権

- 外部アカウントの管理

  ここでの外部アカウントは、Qiita などの **限界開発鯖名義で登録している外部サービスのアカウント**を指します。

#### 4.1.1.3 付与しない権限

このロールに対しては、「管理者」権限を付与するため、Discord 上で行使できるあらゆる権限が付与されます。

## 4.1.2「限界治安部隊」

#### 4.1.2.1 付与対象

このロールは、全知全能の神が独断と偏見で判断したアクティブユーザに対して付与されます。

#### 4.1.2.2 付与する権限

このロールに対しては、「管理者」権限を付与します。

#### 4.1.2.3 付与しない権限

このロールに対しては、「管理者」権限を付与するため、Discord 上で行使できるあらゆる権限が付与されます。

また、全知全能の神とは違い、代表権や外部アカウントの管理権限は持ちません。

### 4.1.3 「にゃーん」

#### 4.1.3.1 付与対象

このロールは、原則として限界開発鯖のメンバー全員に対して付与されます。

ただし、以下の事項については例外的に剥奪が認められます。

- 深刻な問題行動など、「にゃーん」を外さなければならなくなったとき
- 宗教戦争などにおける一時的な言論統制

#### 4.1.3.2 付与する権限

このロールに対しては、以下の表に示される権限を付与します。

| 権限名                             | 権限説明                                                     | 現在の限界開発鯖での文化との関係                             | 権限をもたせる根拠                                  |
| ---------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | --------------------------------------------------- |
| チャンネルの管理                   | チャンネルの作成・編集・削除。                               | チャンネルの作成。                                           | 文化とのつながりが大きい。                          |
| ロールの管理権                     | ロールの管理権を持つ最高レベル以下のロールについて、追加/変更/削除権、他メンバーへの付与/剥奪。 | 何かあったときに称号のような形で付与される。                 | 文化とのつながりが大きい。                          |
| 絵文字の管理                       | 絵文字の追加/削除。                                          | よくわからない絵文字が生える。                               | 文化とのつながりが大きい。                          |
| 監査ログの表示                     | 監査ログの表示。                                             | 言論統制や VC 切断が起こったときに誰がやったのか特定できる。 | 文化とのつながりが大きい。                          |
| サーバー管理                       | サーバーの名前の変更、地域の変更、Bot の追加ができる。       | 自作の Bot や、便利そうな Bot を引っ張ってくる。             | 文化とのつながりが大きい。                          |
| ニックネームの変更                 | 自分のニックネームの変更が可能。                             | ニックネームの変更。                                         | 文化とのつながりが大きい。                          |
| ニックネームの管理                 | 他人のニックネームの変更が可能。                             | まったくない。                                               | ~~おもしろそうだから。~~ Bot のニックネームの変更。 |
| メンバーをキック                   | 他のメンバーのキック。                                       | 特になし。                                                   | Bot が暴走した際の統制のため。                      |
| 「テキストチャンネル権限」のすべて | メッセージ削除を含めた、テキストメッセージで行える全ての操作が可能。 | 発言や発言の削除、ファイル添付、Embedなど。                  | 文化とのつながりが大きい。                          |
| 「ボイスチャンネル権限」のすべて   | 他人の他チャンネルへの移動や切断を含めた、ボイスチャンネルで行える全ての操作が可能。 | 発言や、他人の切断、移動、サーバーミュートなど。             | 文化とのつながりが大きい。                          |

#### 4.1.3.3 付与しない権限

このロールに対しては、以下の表に示される権限は付与しません。

| 権限名             | 権限説明             | 現在の限界開発鯖での文化との関係                             | 権限をもたせる根拠                                           |
| ------------------ | -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ウェブフックの管理 | ウェブフックの管理。 | 特になし。                                                   | ウェブフックの削除などによる不必要な破壊的変更を防ぐ。       |
| 招待の作成         | 新しいメンバーの招待 | いっそうくんなどの暗黙的な管理者に問い合わせをした上でメンバーを招待している。 | 管理者への問い合わせを経て招待するという文化が定着しているため、「限界を司る神々」及び「限界治安部隊」のみへの権限の制限が可能。 |
| メンバーをBAN      | 他のメンバーのBAN。  | 特になし。                                                   | 限界開発鯖の文化とのつながりが大きいとは考えられず、また極めて破壊的な変更であるため。 |
| 管理者             | 管理者権限。         | 上記の表の権限で置換可能な様々な破壊的な変更。               | この RFC の目的の達成。                                      |

## 4.2 この RFC によって生じる初期設定について

この RFC の **適用** によって生じる設定は、フライさん ( @loxygenK ) が担当します。**改正** などで生じる設定は他の人におねがいするかもしれません。

この RFC の **適用と改正** によって生じる設定の実行の前に、 **サーバーテンプレートを作成し、バックアップを復元できる状態** にします。

# 5 Unresolved questions

- ~~「限界を司る人々」は誰が持つか。~~
- ~~「招待の作成」の権限制限は本当に必要か。~~

# 6 Future Possibilities

## 6.1 限界開発鯖に与える影響

これまで行っていた様々な破壊的変更は、全て「にゃーん」権限に付与した権限の範囲内で実行できるため、文化に対する影響は極めて小さいと考えています。

また、誤 BAN や 誤 Kick、将来的な大規模な宗教戦争などに起因する BAN や Kick の不適切な実行などの可能性が低くなり、リスクが低減できます。

# 7 Amendment

### 7.1 セクション 4.1.3.2 における Kick 権限について

Discord 上で、最高レベルが同じロールの人は Kick できない ( こるくが検証済み ) ので、この権限の付与によって Kick できるのは、「にゃーん」権限を持っていない人及び Bot ということがわかりました。

この検証を鑑みて、Kick 権限は「にゃーん」権限に対して付与することとしました。

## 7.2 メンバーの招待・Kick 基準について

「にゃーん」や「限界治安部隊」、「全知全能の神」を持ったメンバーを含む全てのメンバーに対しての招待作成・Kick 基準について明確に定義しておきます。

### 7.2.1 メンバーの招待基準

鯖民の知り合いであれば招待可能です。知り合いがサーバーにいないにも関わらず、「ノリで招待」する場合は招待は拒否するものとします。

### 7.2.2. メンバーの Kick 基準

「鯖の運営を著しく妨害した」と考えられた場合に Kick が許可されます。
